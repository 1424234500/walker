<!--
    THIS EXAMPLE WAS DOWNLOADED FROM https://echarts.apache.org/examples/zh/editor.html?c=graph-simple
-->
<!DOCTYPE html>
<html style="height: 100%">
    <head>
        <meta charset="utf-8">
    </head>
    <body style="height: 100%; margin: 0">
        <div id="container" style="height: 100%"></div>

        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
        <!-- Uncomment this line if you want to dataTool extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/extension/dataTool.min.js"></script>
        -->
        <!-- Uncomment this line if you want to use gl extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
        -->
        <!-- Uncomment this line if you want to echarts-stat extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-stat@latest/dist/ecStat.min.js"></script>
        -->
        <!-- Uncomment this line if you want to use map
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/map/js/china.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/map/js/world.js"></script>
        -->
        <!-- Uncomment these two lines if you want to use bmap extension
        <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=<Your Key Here>"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/extension/bmap.min.js"></script>
        -->

        <script type="text/javascript">
var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var app = {};

var option;



var nodes = [ 
	{
		name: "韦小宝",
		id: "1",
		symbolSize: 60,//节点大小
		symbol:'circle',//节点形状，'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none'也可'image://url'设置节点图片
	},
	{
		name: "方怡",
		id: "2",
		symbolSize: 60,
	},
	{
		name: "双儿",
		id: "3",
		symbolSize: 60,
	},
	{
		name: "茅十八",
		id: "4",
		symbolSize: 60,
	},
	{
		name: "吴六奇",
		id: "5",
		symbolSize: 60,
	},
]
try {
	var nodesMake = ${replaceNodesMake}; //替换具体json  
	if(nodesMake){
		nodes = nodesMake
	} 
} catch(err) {
	console.log("error no replaceNodesMake " );
	console.log(err)
}

var links = [
	{
	  source: "1",
	  target: "2",
	  relation: {
		name: "老婆",
		id: "1",
	  },
	},
	{
	  source: "1",
	  target: "3",
	  relation: {
		name: "老婆",
		id: "1",
	  },
	},
	{
	  source: "1",
	  target: "4",
	  relation: {
		name: "兄弟",
		id: "1",
	  },
	},
	{
	  source: "4",
	  target: "1",
	  relation: {
		name: "兄弟",
		id: "1",
	  },
	},
	{
	  source: "3",
	  target: "5",
	  relation: {
		name: "义妹",
		id: "1",
	  },
	},
]

try {
	var linksMake = ${replaceLinksMake}; //替换具体json  
	if(linksMake){
		links = linksMake
	} 
} catch(err) {
	console.log("error no replaceLinksMake " );
	console.log(err)
}


option = {
    title: {
        text: '${replaceTitleText}'
    },
    tooltip: {},
    animationDurationUpdate: 1500,
    animationEasingUpdate: 'quinticInOut',
    
    series: [
		{
		type: 'graph',
		layout: 'force',
		nodes:  nodes,
		links:  links,
		itemStyle: {
            color: {
                type: "radial",
                        x: 0.5,
                        y: 0.5,
                        r: 0.5,
			colorStops: [
                {
                    offset: 0,
                            color: "#464646", // 0% 处的颜色
                },
                {
                    offset: 0.7,
                            color: "#464646", // 0% 处的颜色
                },
                {
                    offset: 1,
                            color: "#95dcb2", // 100% 处的颜色
                },
			],
                global: false, // 缺省为 false
            },
        },
		label: {
		  show: true,
		  //position: "bottom",
		  //distance: 5,
		  fontSize: 16,
		  align: "center",
		},
		autoCurveness: 0.01, //多条边的时候，自动计算曲率
		edgeLabel: {//边的设置
		  show: true,
		  position: "middle",
		  fontSize: 12,
		  formatter: (params) => {
			return params.data.relation.name;
		  },
		},
		edgeSymbol: ["circle", "arrow"], //边两边的类型
		force: {
		  repulsion: 100,
		   gravity:0.01,
			edgeLength:200
	   }
	  },
	], 
};


if (option && typeof option === 'object') {
    myChart.setOption(option);
}

        </script>
    </body>
</html>
    